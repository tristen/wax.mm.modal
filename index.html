<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8 />
<title>Modal component for wax.mm.js</title>
<link rel='stylesheet' href='site.css'>
<script src='wax/modestmaps.min.js'></script>
<script src='wax/wax.mm.min.js'></script>
<script src='wax/modal.js'></script>
<script>
  var mm = com.modestmaps;
  var url = 'http://api.tiles.mapbox.com/v3/yhahn.mapbox-streets-dev.jsonp';
  wax.tilejson(url, function(tilejson) {
      m = new mm.Map('map',
          new wax.mm.connector(tilejson), null, [
              new mm.MouseHandler(),
              new mm.TouchHandler()
          ]
      );
      var form = document.getElementById('modal-content').innerHTML;
      wax.mm.modal(m, form, {
        linkTitle: 'Click me'
        }).appendTo(m.parent);
      m.setCenterZoom(new mm.Location(43.6478,280.6421),13);
  });
</script>
</head>
<body>
  <div class='heading'>
    <h1>wax.mm.modal demo</h1>
    <p>Click the link at the bottom right-hand corner. <br />Fork or clone to improve or use the little script <a href='https://github.com/tristen/wax.mm.modal/blob/gh-pages/wax/modal.js'>here</a></p>
  </div>
  <div id='map'></div>
  <div id='modal-content'>
    <div class='inner'>
<h2>API</h2>
<pre><code>wax.mm.modal(map, template, options);</code></pre>

<ul>
  <li><strong>Map</strong> is the map object.</li>
  <li><strong>Template</strong> Is the content passed to the modal.</li>
  <li><strong>Options</strong> is an optional object passed in as an argument that accepts the following values:
    <ul>
      <li><strong>linkTitle</strong> The name of the modal link. Defaults to `Info`</li>
      <li><strong>callback</strong> An optional function that is fired after the modal has been clicked.</li>
      <li><strong>attachForm</strong> An optional DOM element to attach the modal to. Defaults to `map.parent`</li>
    </ul>
  </li>
</ul>

<h2>Usage</h2>
<p>The code that renders the map and provides the modal link looks like this.</p>
<pre><code>var mm = com.modestmaps;
var url = 'http://api.tiles.mapbox.com/v3/yhahn.mapbox-streets-dev.jsonp';
wax.tilejson(url, function(tilejson) {
    m = new mm.Map('map',
        new wax.mm.connector(tilejson), null, [
            new mm.MouseHandler(),
            new mm.TouchHandler()
        ]
    );
    var form = document.getElementById('modal-content').innerHTML;
    wax.mm.modal(m, form, {
        linkTitle: 'Click me'
    }).appendTo(m.parent);
    m.setCenterZoom(new mm.Location(43.64828710639889,-79.44826701562498), 16);
});</code></pre>
      </div>
    </div>
</body>
</html>
